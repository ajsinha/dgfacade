# =============================================================================
# DGFacade — Prometheus Scrape Configuration
# Copyright © 2025-2030 Ashutosh Sinha. All Rights Reserved.
# =============================================================================
#
# Copy this file to your Prometheus server's config directory and restart
# Prometheus, or mount it as a Docker volume.
#
# Usage:
#   prometheus --config.file=prometheus.yml
#
# Docker:
#   docker run -p 9090:9090 -v ./prometheus.yml:/etc/prometheus/prometheus.yml prom/prometheus
#

global:
  scrape_interval: 15s
  evaluation_interval: 15s
  scrape_timeout: 10s

# Rule files for alerting (optional)
rule_files:
  # - "rules/dgfacade.yml"

scrape_configs:
  # ── DGFacade Application ──────────────────────────────────────────────────
  - job_name: 'dgfacade'
    metrics_path: '/actuator/prometheus'
    scrape_interval: 15s
    static_configs:
      - targets: ['localhost:8090']
        labels:
          instance: 'dgfacade-primary'
          environment: 'production'
          application: 'dgfacade'

  # ── Multiple DGFacade Instances (uncomment for cluster monitoring) ────────
  # - job_name: 'dgfacade-cluster'
  #   metrics_path: '/actuator/prometheus'
  #   scrape_interval: 15s
  #   static_configs:
  #     - targets:
  #         - 'dgfacade-node1:8090'
  #         - 'dgfacade-node2:8090'
  #         - 'dgfacade-node3:8090'
  #       labels:
  #         cluster: 'dgfacade-prod'

  # ── Prometheus Self-Monitoring ────────────────────────────────────────────
  - job_name: 'prometheus'
    static_configs:
      - targets: ['localhost:9090']
